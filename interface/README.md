# 인터페이스 
구체화된 객체가 아닌 추상화된 상호작용으로 관계를 표현

go에서는 class가 없으며, Method를 이용해서 관계를 표현한다.

인터페이스도 타입이다. 

### 인터페이스 규칙
1. 메서드는 반드시 메서드명이 있어야 한다. 
2. 매개변수와 반환이 다르더라도 이름이 같은 메서드는 있을 수 없다.
3. 인터페이스에서는 메서드 구현을 포함하지 않는다. 

### 인터페이스를 사용하는 이유
다음과 같은 상황을 생각해보자.
처음에는 Fedex라는 택배 회사를 통해서 보내는 택배 전송 프로그램을 만들었다. 그런데 우체국 택배가 더 비용이 저렴하고 시간이 단축되는 것을 알게되었다. 그래서 서비스 중에 우체국을 이용하도록 프로그램을 변경하려고 한다. 그런데 Fedex와 우체국의 각 패키지에서 제공하는 타입이 달라서 기존에 만들었던 모든 코드가 동작하지 않는 문제가 있다. 이러한 문제를 인터페이스를 통해서 해결할 수 있다. 


의존성을 낮추고(decoupling), 응집성을 높여야 한다(high cohension). 

사용자 <= 추상회된 서비스(인터페이스) <= 서비스 제공자

### 덕 타이핑
Go, python은 덕 타이핑을 제공한다.
덕 타이핑이란 
만약 어떤 새를 봤는데 그 새가 오리처럼 걷고, 오리처럼 날고 오리처럼 소리내면 나는 그 새를 오리라고 부르겠다. 
기존 방식은 내가 오리임을 밝히는 방식이다.
하지만 덕타이핑은 사용자 입장에서 봤을 때 오리처럼 보이면 오리라고 부르겠다. 

사용자 중심의 코딩을 할 수 있다.
인터페이스 구현 여부를 타입 선언시 하지 않고, 인터페이스가 사용될때 결정하기 때문에 서비스 제공자는 구체화된 객체를 제공하고 사용자가 필요에 따라 인터페이스를 정의해서 사용할 수 있다. 

즉 처음부터 인터페이스를 제공할 필요가 없다. 
구체적인 클래스를 만든 후, 필요에 따라 인터페이스를 만들어서 사용하는 것

자바 같은 경우엔 클래스 선언시 인터페이스를 미리 만들어야 한다.

Go 같은 경우엔 설계와 구현이 반복적으로 이루어지기 때문에 agile 개발 방식에 적합하다. 

### 인터페이스 사이즈
두개의 필드로 구성된다. 
인스턴스 메모리 주소, 타입 정보로 구성된다. 
- 인스턴스 메모리 주소: 가르키고 있는 인스턴스의 메모리 주소 
- 타입 정보: 가르키고 있는 인스턴스의 타입이 무엇인가 

=> 메모리 주소(8byte)와 타입정보(8byte)를 가르키고 있기 때문에 항상 인터페이스의 사이즈는 16 byte이다. 


### 만약 서비스가 제공하는 메서드의 이름이 다를 때 
ex) 데이터베이스 서비스를 제공하는 A, B 두 회사에서 A회사는 get(), set() 메서드를 제공하고, B회사에서는  getData(), setData() 메서드를 제공해서 인터페이스를 만들 수 없는 경우 어떻게 해야 할까?
=> adapter 패턴을 통해서 해결할 수 있다. 
중간에 adapter를 만들어서 getData(), setData()를 get(), set()으로 wrapping하면 인터페이스로 묶을 수 있게 된다. 


### 빈 인터페이스

모든 타입을 의미할 때 사용한다.

```
func printVal(v interface{}){
    //...
}
```
여기서 v는 모든 타입(int64, float64, string...)

### 인터페이스에서 원하는 객체를 가져올때 
타입 변환을 통해서 원하는 객체를 가져온다. 